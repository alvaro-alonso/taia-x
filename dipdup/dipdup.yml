spec_version: 1.2
package: taia_x

# database:
#   kind: sqlite
#   path: taia_x.sqlite3

database:
  kind: postgres
  host: db_dipdup
  port: 5432
  user: dipdup
  password: ${POSTGRES_PASSWORD:-changeme}
  database: dipdup
  #schema_name: taia_x

hasura:
  url: http://hasura:8080
  admin_secret: ${ADMIN_SECRET:-changeme}
  allow_aggregations: False
  camel_case: False
  select_limit: 100

contracts:
  taia_x_sandbox:
    address: KT1BT5xnhYgmYaFVvH7UEyFmw5wGck1DrG1D
    typename: taia_x_fa2

datasources:
  tzkt_sandbox:
    kind: tzkt
    url: http://api_tzkt:5000

indexes:
  taia-x:
    kind: operation
    datasource: tzkt_sandbox
    contracts:
      - taia_x_sandbox
    handlers:
      - callback: on_mint
        pattern:
          - destination: taia_x_sandbox
            entrypoint: mint
